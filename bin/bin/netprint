#!/bin/sh

if [ -z "$1" ]; then
	# Attempt to find first UP device is no argument passed
	I=$(ip a | grep "state UP" | head -n1 | awk '{print $2}' | sed -e 's/:$//')
else
	# Use argument as interface if passed
	I=$1
fi

I=$(ip a show dev "$I" | grep "inet " | grep -v "secondary" | awk '{print $2}')
# Really shitty error checking lol
I=$(echo "$I" | grep "[0-9]*\.[0-9]*\.[0-9]*\.[0-9]*/[0-9]*")
echo "$I"
